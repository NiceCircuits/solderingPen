Version 4
SHEET 1 880 680
WIRE -64 96 -80 96
WIRE -80 144 -80 96
WIRE 480 160 464 160
WIRE 464 176 464 160
WIRE -208 208 -272 208
WIRE -128 224 -144 224
WIRE -80 288 -80 240
WIRE 160 288 -80 288
WIRE 192 288 160 288
WIRE 384 288 272 288
WIRE 464 288 464 256
WIRE 592 288 464 288
WIRE -80 320 -80 288
WIRE 384 320 384 288
WIRE 464 368 464 288
WIRE 160 384 160 288
WIRE -80 416 -80 384
WIRE 384 416 384 400
WIRE 400 416 384 416
WIRE 384 432 384 416
WIRE 384 528 384 512
WIRE 464 528 464 464
WIRE 464 528 384 528
WIRE 160 560 160 464
WIRE 464 560 464 528
FLAG 464 560 0
FLAG -64 96 +12V
FLAG -80 416 0
FLAG 160 560 0
FLAG 480 160 +3V3
FLAG 592 288 OUT
IOPIN 592 288 Out
FLAG -272 208 IN
IOPIN -272 208 In
SYMBOL nmos -128 144 R0
SYMATTR InstName M1
SYMATTR Value BTS5012SDA
SYMBOL npn 400 368 R0
SYMATTR InstName Q1
SYMATTR Value BCR135
SYMBOL res 400 416 M0
SYMATTR InstName R1
SYMATTR Value 47k
SYMBOL res 400 304 M0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap -96 320 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 448 160 R0
SYMATTR InstName R3
SYMATTR Value 4k7
SYMBOL res 144 368 R0
SYMATTR InstName R4
SYMATTR Value Rpar
SYMBOL res 176 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value Rser
RECTANGLE Normal 560 544 320 304 1
RECTANGLE Normal -208 160 -144 240
RECTANGLE Normal -240 128 80 272 1
RECTANGLE Normal -336 464 112 64 2
